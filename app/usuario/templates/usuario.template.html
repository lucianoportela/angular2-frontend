


<h2>Manter de usuários</h2>

<div class="form-group col-xs-6 col-md-6">
    <label>Nome</label>
    <input class="form-control" [(ngModel)]="usuarioObject.nome"   />
</div>
<div class="form-group col-xs-6 col-md-6">
    <label>Perfil</label>
    <select class="form-control" [(ngModel)]="usuarioObject.perfil"  >
        <option [ngValue]="p"  *ngFor="let p of perfis">{{p.nome}}</option>
    </select>
</div> 

<div class="form-group col-md-12">
    <label>Idade</label>
    <input class="form-control" [(ngModel)]="usuarioObject.idade"   />
</div>
<div class="form-group col-md-6">
    <label>Cep</label>
    <input type="number" class="form-control" 
           [(ngModel)]="usuarioObject.cep" (ngModelChange)="onChange($event)"  />
</div>

<div class="form-group col-md-12">
    <label>Endereço</label>
    <input type="text" class="form-control" [(ngModel)]="usuarioObject.endereco"   />
</div>



<div *ngIf="!edit" class="form-group col-md-3">
    <button class="btn btn-primary" (click)="salvar(usuarioObject)">Salvar</button>
</div>
<div *ngIf="edit" class="form-group col-md-3">
    <button class="btn btn-primary" (click)="editar(usuarioObject, true)">Editar</button>
</div>
<table class="table table-hover table-striped">
    <tr>
        <th>
            Id
        </th>
        <th>
            Nome
        </th>
        <th>
            Idade
        </th>
        <th>
            Perfil
        </th>  
        <th>
            Cep
        </th>          
        <th>

        </th>
        <th>

        </th>
    </tr>
    <tr *ngFor="let usuario of usuarios; let i = index">
        <td>
            {{usuario._id}}
        </td>
        <td>
            {{usuario.nome}}
        </td>
        <td>
            {{usuario.idade}}
        </td>
        <td>
            {{usuario.perfil.nome}}
        </td>     
        <td>
            {{usuario.cep}}
        </td>           
        <td>
            <button class="btn btn-primary" (click)=editar(usuario)>Editar</button>
        </td>
        <td>
            <button class="btn btn-danger" (click)=deletar(usuario._id,i)>Deletar</button>
        </td>
    </tr>
</table>